# Requirements Docker optimisés - Solution "resolution-too-deep"
# Version avec bornes flexibles pour éviter les conflits

# ============================================================================
# CORE FRAMEWORK - Versions stables et testées
# ============================================================================
fastapi>=0.108.0
uvicorn[standard]>=0.25.0
pydantic>=2.9.0,<3.0.0
pydantic-settings>=2.1.0,<3.0.0

# ============================================================================
# MULTI-AGENT FRAMEWORK - Versions compatibles LangChain 0.3.x
# ============================================================================
langchain>=0.3.25
langchain-community>=0.3.23
crewai>=0.11.2
langgraph>=0.0.55

# ============================================================================
# VECTOR DATABASES - Bornes inférieures seulement
# ============================================================================
qdrant-client>=1.7.1
weaviate-client>=3.25.0
elasticsearch>=8.11.0
rank-bm25>=0.2.2

# ============================================================================
# AI/ML CORE - Laisser pip résoudre automatiquement
# ============================================================================
transformers>=4.36.0
sentence-transformers>=2.2.2
# torch sera installé automatiquement par transformers/sentence-transformers
ollama>=0.5.1

# ============================================================================
# DOCUMENT PROCESSING
# ============================================================================
pypdf2>=3.0.0
python-docx>=1.1.0
python-multipart>=0.0.6
pytesseract>=0.3.10
pillow>=10.1.0
langdetect>=1.0.9

# ============================================================================
# HTTP & NETWORKING
# ============================================================================
aiohttp>=3.9.0
httpx>=0.27.0
requests>=2.31.0

# ============================================================================
# DATABASE & STORAGE
# ============================================================================
sqlalchemy>=2.0.25
asyncpg>=0.29.0
redis>=5.0.1
minio>=7.2.0

# ============================================================================
# AI PROVIDERS
# ============================================================================
cohere>=4.39.0

# ============================================================================
# SECURITY & AUTH
# ============================================================================
python-jose[cryptography]>=3.3.0
passlib[bcrypt]>=1.7.4
python-keycloak>=3.8.0
cryptography>=41.0.0

# ============================================================================
# MONITORING
# ============================================================================
prometheus-client>=0.19.0
opentelemetry-api>=1.22.0
opentelemetry-sdk>=1.22.0
opentelemetry-instrumentation-fastapi>=0.42b0
opentelemetry-exporter-jaeger>=1.21.0
langsmith>=0.1.17

# ============================================================================
# UTILITIES
# ============================================================================
aiofiles>=23.2.1
python-dotenv>=1.0.0
celery>=5.3.4
structlog>=23.2.0
typer>=0.9.0
email-validator>=2.1.0
numpy>=1.24.0
pandas>=2.1.0
pyyaml>=6.0.1

# ============================================================================
# CLOUD & DEPLOYMENT
# ============================================================================
kubernetes>=28.1.0
azure-identity>=1.15.0
azure-storage-blob>=12.19.0
boto3>=1.34.0
