<?xml version="1.0" encoding="UTF-8"?>
<mxfile host="app.diagrams.net" modified="2024-12-07T12:00:00.000Z" agent="5.0" etag="xyz" version="22.1.8" type="device">
  <diagram name="RAG-Enterprise-Architecture" id="architecture-diagram">
    <mxGraphModel dx="2336" dy="1654" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="2336" pageHeight="1654" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>
        
        <!-- Title -->
        <mxCell id="title" value="Système RAG Enterprise Multi-Agents - Architecture Complète" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=28;fontStyle=1;fontColor=#1976D2;" vertex="1" parent="1">
          <mxGeometry x="668" y="20" width="1000" height="60" as="geometry"/>
        </mxCell>

        <!-- Client Layer -->
        <mxCell id="client-header" value="COUCHE CLIENT" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1976D2;fontSize=16;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="100" width="300" height="40" as="geometry"/>
        </mxCell>
        
        <mxCell id="web-client" value="🌐 Interface Web&#xa;React/Vue.js SPA&#xa;• Authentication&#xa;• File Upload&#xa;• Chat Interface&#xa;• Real-time Updates" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#BBDEFB;strokeColor=#1976D2;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="80" y="160" width="140" height="80" as="geometry"/>
        </mxCell>
        
        <mxCell id="mobile-client" value="📱 App Mobile&#xa;React Native&#xa;• Cross-Platform&#xa;• Offline Mode&#xa;• Push Notifications" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#BBDEFB;strokeColor=#1976D2;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="240" y="160" width="140" height="80" as="geometry"/>
        </mxCell>

        <!-- Load Balancer -->
        <mxCell id="loadbalancer" value="⚖️ Load Balancer&#xa;NGINX/HAProxy&#xa;• SSL Termination&#xa;• Rate Limiting&#xa;• Health Checks&#xa;• Geographic Routing" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#388E3C;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="450" y="160" width="160" height="80" as="geometry"/>
        </mxCell>

        <!-- API Gateway -->
        <mxCell id="api-header" value="COUCHE API GATEWAY" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#F57C00;fontSize=16;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="680" y="100" width="320" height="40" as="geometry"/>
        </mxCell>
        
        <mxCell id="api-gateway" value="🚀 FastAPI Gateway&#xa;main.py&#xa;• Authentication &amp; Authorization&#xa;• Request Validation&#xa;• Rate Limiting &amp; CORS&#xa;• Health Monitoring&#xa;• API Documentation&#xa;• WebSocket Support" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE0B2;strokeColor=#F57C00;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="680" y="160" width="320" height="80" as="geometry"/>
        </mxCell>

        <!-- Multi-Agent System Header -->
        <mxCell id="agents-header" value="SYSTÈME MULTI-AGENTS" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#7B1FA2;fontSize=18;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="280" width="1400" height="40" as="geometry"/>
        </mxCell>

        <!-- Central Orchestration Agent -->
        <mxCell id="orchestrator" value="🎭 AGENT ORCHESTRATEUR&#xa;orchestration/agent.py&#xa;• CrewAI Coordination&#xa;• LangGraph Workflows&#xa;• SothemaAI Integration&#xa;• Task Management&#xa;• Process Monitoring&#xa;• Error Handling &amp; Recovery" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1BEE7;strokeColor=#7B1FA2;fontSize=13;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="620" y="340" width="280" height="100" as="geometry"/>
        </mxCell>

        <!-- Specialized Agents -->
        <mxCell id="ingestion-agent" value="📥 AGENT INGESTION&#xa;ingestion/agent.py&#xa;• PDF, DOCX, TXT Processing&#xa;• OCR for Images&#xa;• Audio Transcription&#xa;• Content Extraction&#xa;• Format Validation&#xa;• Metadata Extraction" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E8;strokeColor=#4CAF50;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="80" y="470" width="180" height="100" as="geometry"/>
        </mxCell>

        <mxCell id="vectorization-agent" value="🧮 AGENT VECTORISATION&#xa;vectorization/agent.py&#xa;• Intelligent Text Chunking&#xa;• Embeddings Generation&#xa;• Vector Optimization&#xa;• Semantic Analysis&#xa;• Index Management&#xa;• Quality Validation" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF9C4;strokeColor=#FBC02D;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="280" y="470" width="180" height="100" as="geometry"/>
        </mxCell>

        <mxCell id="storage-agent" value="💾 AGENT STOCKAGE&#xa;storage/agent.py&#xa;• Document Persistence&#xa;• Metadata Management&#xa;• Index Management&#xa;• CRUD Operations&#xa;• Data Integrity&#xa;• Backup Management" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#2196F3;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="980" y="470" width="180" height="100" as="geometry"/>
        </mxCell>

        <mxCell id="retrieval-agent" value="🔍 AGENT RÉCUPÉRATION&#xa;retrieval/agent.py&#xa;• Hybrid Search Engine&#xa;• Vector Similarity Search&#xa;• Keyword Matching&#xa;• Context Ranking&#xa;• Result Filtering&#xa;• Relevance Scoring" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FCE4EC;strokeColor=#E91E63;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="1180" y="470" width="180" height="100" as="geometry"/>
        </mxCell>

        <mxCell id="synthesis-agent" value="✍️ AGENT SYNTHÈSE&#xa;synthesis/agent.py&#xa;• Response Generation&#xa;• Multi-LLM Integration&#xa;• Context Enrichment&#xa;• Answer Validation&#xa;• Citation Management&#xa;• Streaming Support" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#FF9800;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="1380" y="470" width="180" height="100" as="geometry"/>
        </mxCell>

        <mxCell id="feedback-agent" value="🧠 AGENT FEEDBACK&#xa;feedback/agent.py&#xa;• Learning Memory&#xa;• User Feedback Analysis&#xa;• Performance Analytics&#xa;• Continuous Learning&#xa;• Model Fine-tuning&#xa;• Insight Generation" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#EFEBE9;strokeColor=#8D6E63;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="480" y="470" width="180" height="100" as="geometry"/>
        </mxCell>

        <!-- Support Systems -->
        <mxCell id="ai-provider" value="🤖 AI PROVIDER MANAGER&#xa;core/providers/&#xa;• SothemaAI Integration&#xa;• Multi-Model Support&#xa;• Fallback Strategy&#xa;• Load Balancing&#xa;• Performance Monitoring" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8EAF6;strokeColor=#3F51B5;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="680" y="470" width="180" height="100" as="geometry"/>
        </mxCell>

        <mxCell id="celery-workers" value="🌿 CELERY WORKERS&#xa;tasks/&#xa;• Background Processing&#xa;• Distributed Tasks&#xa;• Queue Management&#xa;• Worker Scaling&#xa;• Task Monitoring" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFEBEE;strokeColor=#F44336;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="80" y="600" width="180" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="security-module" value="🛡️ SECURITY MODULE&#xa;security/auth.py&#xa;• JWT Authentication&#xa;• RBAC Permissions&#xa;• Rate Limiting&#xa;• Audit Logging&#xa;• Data Encryption" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFEBEE;strokeColor=#D32F2F;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="280" y="600" width="180" height="80" as="geometry"/>
        </mxCell>

        <!-- Data Layer -->
        <mxCell id="data-header" value="COUCHE DONNÉES &amp; STOCKAGE" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFEBEE;strokeColor=#D32F2F;fontSize=16;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="720" width="1400" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="postgresql" value="🐘 PostgreSQL&#xa;• Documents Metadata&#xa;• User Management&#xa;• Organizations&#xa;• Audit Logs&#xa;• Configurations&#xa;• Relationships" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCDD2;strokeColor=#D32F2F;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="80" y="780" width="160" height="100" as="geometry"/>
        </mxCell>

        <mxCell id="qdrant" value="🔺 Qdrant Vector DB&#xa;• Vector Storage&#xa;• Semantic Search&#xa;• Index Management&#xa;• Similarity Queries&#xa;• Collection Management&#xa;• High Performance" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8EAF6;strokeColor=#3F51B5;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="260" y="780" width="160" height="100" as="geometry"/>
        </mxCell>

        <mxCell id="redis" value="🔴 Redis&#xa;• Session Management&#xa;• Query Results Cache&#xa;• Rate Limiting Counters&#xa;• Background Job Queue&#xa;• Real-time Data" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FCE4EC;strokeColor=#E91E63;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="440" y="780" width="160" height="100" as="geometry"/>
        </mxCell>

        <mxCell id="minio" value="🪣 MinIO Object Storage&#xa;• Document Files&#xa;• Media Assets&#xa;• Backup Archives&#xa;• Binary Data&#xa;• Version Control&#xa;• S3 Compatible" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E0F2F1;strokeColor=#00796B;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="620" y="780" width="160" height="100" as="geometry"/>
        </mxCell>

        <mxCell id="elasticsearch" value="🔍 Elasticsearch&#xa;• Full-text Search&#xa;• Log Analytics&#xa;• Monitoring Data&#xa;• Search Analytics&#xa;• Text Indexing&#xa;• Advanced Queries" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF8E1;strokeColor=#F57F17;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="800" y="780" width="160" height="100" as="geometry"/>
        </mxCell>

        <!-- External AI Services -->
        <mxCell id="external-header" value="SERVICES IA EXTERNES" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F1F8E9;strokeColor=#689F38;fontSize=16;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="920" width="1400" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="sothema-ai" value="🧠 SothemaAI (Primaire)&#xa;• Mistral Models&#xa;• Llama4 Models&#xa;• Custom Fine-tuning&#xa;• Local Deployment&#xa;• High Performance&#xa;• Enterprise Support" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#388E3C;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="980" width="200" height="100" as="geometry"/>
        </mxCell>

        <mxCell id="openai" value="🤖 OpenAI&#xa;• GPT-4 Turbo&#xa;• GPT-3.5 Turbo&#xa;• Text Embeddings&#xa;• Function Calling&#xa;• Streaming API" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1976D2;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="300" y="980" width="140" height="100" as="geometry"/>
        </mxCell>

        <mxCell id="anthropic" value="🎭 Anthropic&#xa;• Claude 3.5 Sonnet&#xa;• Claude 3 Haiku&#xa;• Constitutional AI&#xa;• Long Context&#xa;• Safety Features" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#F57C00;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="460" y="980" width="140" height="100" as="geometry"/>
        </mxCell>

        <mxCell id="cohere" value="🔮 Cohere&#xa;• Command R+&#xa;• Embed v3&#xa;• Rerank v3&#xa;• Multilingual&#xa;• Enterprise Ready" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#9C27B0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="620" y="980" width="140" height="100" as="geometry"/>
        </mxCell>

        <!-- Monitoring & Security -->
        <mxCell id="monitoring-header" value="MONITORING &amp; SÉCURITÉ" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ECEFF1;strokeColor=#455A64;fontSize=16;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="1120" width="1400" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="prometheus" value="📊 Prometheus&#xa;• Metrics Collection&#xa;• Time Series DB&#xa;• Alerting Rules&#xa;• Performance Monitoring&#xa;• Custom Metrics" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E8;strokeColor=#4CAF50;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="80" y="1180" width="140" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="grafana" value="📈 Grafana&#xa;• Visual Dashboards&#xa;• Real-time Monitoring&#xa;• Alerts Management&#xa;• Data Visualization&#xa;• Custom Panels" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#FF9800;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="240" y="1180" width="140" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="elk-stack" value="📋 ELK Stack&#xa;• Log Aggregation&#xa;• Search &amp; Analytics&#xa;• Kibana Dashboards&#xa;• Log Correlation&#xa;• Error Tracking" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF8E1;strokeColor=#F57F17;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="400" y="1180" width="140" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="keycloak" value="🔐 Keycloak&#xa;• SSO Authentication&#xa;• RBAC Authorization&#xa;• SAML/OIDC&#xa;• Identity Management&#xa;• User Federation" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFEBEE;strokeColor=#F44336;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="560" y="1180" width="140" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="vault" value="🗝️ HashiCorp Vault&#xa;• Secrets Management&#xa;• Certificate Authority&#xa;• Data Encryption&#xa;• Key Rotation&#xa;• Audit Trails" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1F5FE;strokeColor=#0288D1;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="720" y="1180" width="140" height="80" as="geometry"/>
        </mxCell>

        <!-- Infrastructure -->
        <mxCell id="infra-header" value="INFRASTRUCTURE &amp; DÉPLOIEMENT" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E8;strokeColor=#388E3C;fontSize=16;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="1300" width="1400" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="docker" value="🐳 Docker&#xa;• Containerization&#xa;• Multi-stage Builds&#xa;• Image Optimization&#xa;• Development Environment" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1976D2;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="80" y="1360" width="140" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="kubernetes" value="☸️ Kubernetes&#xa;• Container Orchestration&#xa;• Auto-scaling&#xa;• Service Mesh&#xa;• Rolling Updates&#xa;• Health Checks" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E8;strokeColor=#4CAF50;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="240" y="1360" width="140" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="helm" value="⚓ Helm&#xa;• Package Management&#xa;• Chart Templates&#xa;• Release Management&#xa;• Configuration Management" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#FF9800;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="400" y="1360" width="140" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="nginx-ingress" value="🌐 NGINX Ingress&#xa;• Load Balancing&#xa;• SSL Termination&#xa;• Path Routing&#xa;• Traffic Management" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#388E3C;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="560" y="1360" width="140" height="80" as="geometry"/>
        </mxCell>

        <!-- Information Panels -->
        <mxCell id="performance-metrics" value="MÉTRIQUES PERFORMANCE&#xa;• API Response: &lt;200ms (P95)&#xa;• Vector Search: &lt;100ms (P95)&#xa;• Throughput: 1000+ req/s&#xa;• Availability: 99.9% SLA&#xa;• Document Processing: 50/min&#xa;• Concurrent Users: 1000+" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E8;strokeColor=#4CAF50;align=left;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1000" y="780" width="200" height="120" as="geometry"/>
        </mxCell>

        <mxCell id="tech-stack" value="STACK TECHNOLOGIQUE&#xa;• Python 3.11+ / FastAPI&#xa;• CrewAI + LangChain&#xa;• SothemaAI (Primaire)&#xa;• Docker + Kubernetes&#xa;• PostgreSQL + Qdrant&#xa;• Redis + MinIO&#xa;• Prometheus + Grafana" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1976D2;align=left;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1220" y="780" width="180" height="120" as="geometry"/>
        </mxCell>

        <mxCell id="deployment-info" value="ENVIRONNEMENTS&#xa;• Development: Docker Compose&#xa;• Staging: Kubernetes&#xa;• Production: K8s + Helm&#xa;• Auto-scaling: HPA + VPA&#xa;• CI/CD: GitOps Pipeline" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#FF9800;align=left;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="720" y="1360" width="160" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="security-features" value="SÉCURITÉ ENTERPRISE&#xa;• Authentication: JWT + SSO&#xa;• Authorization: RBAC&#xa;• Encryption: TLS 1.3&#xa;• Audit: Complete Logging&#xa;• Compliance: GDPR + SOC2" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFEBEE;strokeColor=#D32F2F;align=left;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="900" y="1360" width="160" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="ai-models" value="SUPPORT MULTI-MODÈLES&#xa;• SothemaAI: Mistral, Llama4&#xa;• OpenAI: GPT-3.5, GPT-4&#xa;• Anthropic: Claude 3&#xa;• Cohere: Command, Embed&#xa;• Fallback Strategy Automatique" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8EAF6;strokeColor=#3F51B5;align=left;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="1080" y="1360" width="180" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="legend" value="LÉGENDE FLUX&#xa;━━━━ Flux Principal&#xa;━━━ Flux Secondaire&#xa;━━ Flux Monitoring&#xa;━ Flux Configuration&#xa;&#xa;🎭 Agent Central&#xa;📊 Monitoring&#xa;🔐 Sécurité&#xa;🤖 IA/ML Services" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F5F5F5;strokeColor=#9E9E9E;align=left;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1280" y="1360" width="140" height="80" as="geometry"/>
        </mxCell>

        <!-- CONNECTIONS/ARROWS -->
        
        <!-- Client to Load Balancer -->
        <mxCell id="conn1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#1976D2;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="web-client" target="loadbalancer">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        
        <mxCell id="conn2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#1976D2;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="mobile-client" target="loadbalancer">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- Load Balancer to API Gateway -->
        <mxCell id="conn3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=4;strokeColor=#F57C00;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="loadbalancer" target="api-gateway">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- API Gateway to Orchestration Agent -->
        <mxCell id="conn4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=5;strokeColor=#7B1FA2;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="api-gateway" target="orchestrator">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- Orchestration to Other Agents -->
        <mxCell id="conn5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#7B1FA2;" edge="1" parent="1" source="orchestrator" target="ingestion-agent">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        
        <mxCell id="conn6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#7B1FA2;" edge="1" parent="1" source="orchestrator" target="vectorization-agent">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        
        <mxCell id="conn7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#7B1FA2;" edge="1" parent="1" source="orchestrator" target="feedback-agent">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        
        <mxCell id="conn8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#7B1FA2;" edge="1" parent="1" source="orchestrator" target="ai-provider">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        
        <mxCell id="conn9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#7B1FA2;" edge="1" parent="1" source="orchestrator" target="storage-agent">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        
        <mxCell id="conn10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#7B1FA2;" edge="1" parent="1" source="orchestrator" target="retrieval-agent">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        
        <mxCell id="conn11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#7B1FA2;" edge="1" parent="1" source="orchestrator" target="synthesis-agent">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- Agents to Data Layer -->
        <mxCell id="conn12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#D32F2F;" edge="1" parent="1" source="storage-agent" target="postgresql">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        
        <mxCell id="conn13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#3F51B5;" edge="1" parent="1" source="vectorization-agent" target="qdrant">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        
        <mxCell id="conn14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#E91E63;" edge="1" parent="1" source="retrieval-agent" target="redis">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        
        <mxCell id="conn15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#00796B;" edge="1" parent="1" source="ingestion-agent" target="minio">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- AI Provider to External Services -->
        <mxCell id="conn16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=4;strokeColor=#388E3C;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="ai-provider" target="sothema-ai">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        
        <mxCell id="conn17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#1976D2;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="ai-provider" target="openai">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        
        <mxCell id="conn18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=1;strokeColor=#F57C00;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="ai-provider" target="anthropic">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        
        <mxCell id="conn19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=1;strokeColor=#9C27B0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="ai-provider" target="cohere">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- Security Integration -->
        <mxCell id="conn20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#D32F2F;" edge="1" parent="1" source="api-gateway" target="security-module">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        
        <mxCell id="conn21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#F44336;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="security-module" target="keycloak">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- Monitoring Connections -->
        <mxCell id="conn22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#4CAF50;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="api-gateway" target="prometheus">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- Background Processing -->
        <mxCell id="conn23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#F44336;" edge="1" parent="1" source="orchestrator" target="celery-workers">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
