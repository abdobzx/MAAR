# Application
APP_NAME=Enterprise RAG System
APP_VERSION=1.0.0
ENVIRONMENT=staging
DEBUG=false
LOG_LEVEL=INFO

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
API_PREFIX=/api/v1
CORS_ORIGINS=["https://staging.your-domain.com", "https://api-staging.your-domain.com"]

# Security
SECRET_KEY=your-super-secret-key-for-staging-env
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=30
ENCRYPTION_KEY=your-staging-encryption-key-32-chars

# SothemaAI & LLMs (Focus SothemaAI)
LLM_PROVIDER=sothemaai
SOTHEMAAI_BASE_URL=https://api.sothemaai.com
SOTHEMAAI_API_KEY=your-sothemaai-api-key-for-staging
SOTHEMAAI_TIMEOUT=60

# Cohere (Fallback/Alternative)
COHERE_API_KEY=your-cohere-api-key-for-staging

# Ollama (Local/Alternative)
OLLAMA_BASE_URL=http://ollama-staging-service:11434
OLLAMA_MODEL=llama3:8b

# Vector Databases (Qdrant for Staging)
QDRANT_HOST=qdrant-staging-service
QDRANT_PORT=6333
QDRANT_API_KEY=
QDRANT_COLLECTION_NAME=enterprise_rag_staging
VECTOR_DB_PROVIDER=qdrant

# Search & Retrieval (Elasticsearch for Staging - if used)
ELASTICSEARCH_URL=http://elasticsearch-staging-service:9200
ELASTICSEARCH_USERNAME=elastic_staging
ELASTICSEARCH_PASSWORD=your-elastic-staging-password

# PostgreSQL (Metadata for Staging)
POSTGRES_HOST=postgres-staging-service
POSTGRES_PORT=5432
POSTGRES_DB=rag_metadata_staging
POSTGRES_USER=rag_user_staging
POSTGRES_PASSWORD=your-postgres-staging-password
DATABASE_URL=postgresql+asyncpg://rag_user_staging:your-postgres-staging-password@postgres-staging-service:5432/rag_metadata_staging
DATABASE_ECHO=false
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=15


# Redis (Caching & Queue for Staging)
REDIS_URL=redis://redis-staging-service:6379/0
REDIS_PASSWORD=your-redis-staging-password
REDIS_DB=0
REDIS_MAX_CONNECTIONS=20

# Object Storage (MinIO/S3 for Staging)
MINIO_ENDPOINT=minio-staging-service:9000
MINIO_ACCESS_KEY=minio_staging_admin
MINIO_SECRET_KEY=minio_staging_password
MINIO_BUCKET_NAME=rag-documents-staging
MINIO_SECURE=false # Set to true if using HTTPS for MinIO in staging

# Keycloak Authentication (Staging instance)
KEYCLOAK_SERVER_URL=http://keycloak-staging-service:8080/auth
KEYCLOAK_REALM=rag-realm-staging
KEYCLOAK_CLIENT_ID=rag-client-staging
KEYCLOAK_CLIENT_SECRET=your-keycloak-staging-client-secret

# Monitoring & Observability
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000
LANGSMITH_API_KEY=your-langsmith-api-key-for-staging
LANGSMITH_PROJECT=enterprise-rag-staging

OPENTELEMETRY_ENDPOINT=http://jaeger-collector-staging-service:4317
JAEGER_ENDPOINT=http://jaeger-query-staging-service:16686/api/traces


# Celery (Background Tasks for Staging)
CELERY_BROKER_URL=redis://redis-staging-service:6379/1
CELERY_RESULT_BACKEND=redis://redis-staging-service:6379/2
CELERY_WORKER_CONCURRENCY=4
CELERY_TASK_TIME_LIMIT=1200


# Document Processing
TESSERACT_CMD=/usr/bin/tesseract
MAX_FILE_SIZE_MB=50
SUPPORTED_FORMATS=["pdf", "docx", "txt", "html", "md"]

# Chunking Configuration
CHUNK_SIZE=1000
CHUNK_OVERLAP=200

# Embedding Configuration
EMBEDDING_MODEL=all-MiniLM-L6-v2 # Default Sentence Transformer
EMBEDDING_DIMENSION=384
BATCH_SIZE=64

# Retrieval Configuration
TOP_K_RETRIEVAL=5
SIMILARITY_THRESHOLD=0.75
RERANK_TOP_K=3

# Rate Limiting
RATE_LIMIT_REQUESTS=50
RATE_LIMIT_WINDOW=60

# Health Check
HEALTH_CHECK_INTERVAL=60
HEALTH_CHECK_TIMEOUT=20

# Staging Specific Settings
STAGING_FEATURE_FLAG_X=true
STAGING_SAMPLE_DATA_ENABLED=true
